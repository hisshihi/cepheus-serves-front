{"version":3,"file":"js/adminUser.d187883e.js","mappings":"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","sources":["webpack://front/./src/views/AdminUserView.vue","webpack://front/./src/views/AdminUserView.vue?d83c"],"sourcesContent":["<template>\r\n  <div>\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">#</th>\r\n          <th scope=\"col\">Имя</th>\r\n          <th scope=\"col\">Фамилия</th>\r\n          <th scope=\"col\">Email</th>\r\n          <th scope=\"col\">Телефон</th>\r\n          <th scope=\"col\">Роль</th>\r\n          <th scope=\"col\">Удалить</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"user in users\" :key=\"user.id\">\r\n          <th scope=\"row\">{{ user.id }}</th>\r\n          <td>{{ user.firstname }}</td>\r\n          <td>{{ user.lastname }}</td>\r\n          <td>{{ user.email }}</td>\r\n          <td>{{ user.phone }}</td>\r\n          <td>\r\n            <select @change=\"updateRoleUser(user.id, $event)\">\r\n              <option\r\n                v-for=\"userRole in userRoles\"\r\n                :key=\"userRole\"\r\n                :selected=\"user.role == userRole\"\r\n                :value=\"userRole\"\r\n              >\r\n                {{ userRole }}\r\n              </option>\r\n            </select>\r\n          </td>\r\n          <td>\r\n            <button-component\r\n              :name=\"'Удалить'\"\r\n              :type=\"'button'\"\r\n              @click=\"deleteUser(user.id)\"\r\n            ></button-component>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport ButtonComponent from \"@/components/ButtonComponent.vue\";\r\nexport default {\r\n  components: {\r\n    ButtonComponent,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      users: [],\r\n      userId: null,\r\n      userRoles: [\"ADMIN\", \"USER\", \"MANAGER\"],\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.getUsers();\r\n  },\r\n\r\n  methods: {\r\n    getUsers() {\r\n      const token = localStorage.getItem(\"token\");\r\n      const headers = {\r\n        Authorization: `Bearer ${token}`,\r\n      };\r\n      axios\r\n        .get(\"http://localhost:8080/users\", { headers })\r\n        .then((response) => {\r\n          this.users = response.data;\r\n        })\r\n        .catch((error) => console.log(error));\r\n    },\r\n    deleteUser(id) {\r\n      const token = localStorage.getItem(\"token\");\r\n      console.log(token);\r\n      const headers = {\r\n        Authorization: `Bearer ${token}`,\r\n      };\r\n      this.userId = id;\r\n      axios\r\n        .delete(\"http://localhost:8080/users/\" + this.userId, { headers })\r\n        .then((response) => {\r\n          this.users = this.users.filter((user) => user.id !== this.userId);\r\n          const userToken = response.data;\r\n          localStorage.removeItem(userToken);\r\n        })\r\n        .catch((error) => console.log(error));\r\n    },\r\n    updateRoleUser(id, event) {\r\n      const token = localStorage.getItem(\"token\");\r\n      console.log(token);\r\n      const headers = {\r\n        Authorization: `Bearer ${token}`,\r\n      };\r\n      const role = event.target.value;\r\n      axios\r\n        .patch(\"http://localhost:8080/users/\" + id, {role: role}, { headers })\r\n        .then((response) => {\r\n          // console.log(response);\r\n        })\r\n        .catch((error) => console.log(error));\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./AdminUserView.vue?vue&type=template&id=e5e2619a\"\nimport script from \"./AdminUserView.vue?vue&type=script&lang=js\"\nexport * from \"./AdminUserView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","$data","users","user","key","id","_hoisted_3","_toDisplayString","firstname","lastname","email","phone","onChange","$event","$options","updateRoleUser","userRoles","userRole","selected","role","value","_hoisted_5","_hoisted_4","_createVNode","_component_button_component","name","type","onClick","deleteUser","components","ButtonComponent","data","userId","mounted","this","getUsers","methods","token","localStorage","getItem","headers","Authorization","axios","get","then","response","catch","error","console","log","delete","filter","userToken","removeItem","event","target","patch","__exports__","render"],"sourceRoot":""}